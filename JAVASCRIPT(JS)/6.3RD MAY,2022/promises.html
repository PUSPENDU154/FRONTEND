<!DOCTYPE html>
<html lang="en">
<head>
    <!-- starts from (1:21:30) -->
    <title>Promises</title>
</head>
<body>
    <div id="demo"></div>
    <script>
        // defining a promises(1:23:00)
        // format of promises(1:24:50)
        let myPromise = new Promise(function(myResolve, myReject){
            // Producing code => this will take some time
            // Going through a table and finding a user with the given id
            myResolve() // when successful
            myReject() // when error
        })
        // Consuming code, must wait for a fulfilled promise
        myPromise.then( //(1:30:30)
            function (value){
                // code if successful
            },
            function (error){
                // code if error
            }
        )
        
        // Practice approach of promises(1:34:20)
        let myPromPrac=new Promise(function(resolve,reject){
            // setTimeout(() =>resolve("Hello"),3000);
            setTimeout(() =>reject("Promises rejected due to some reasons"),5000);
            /*
            setTimeout(function(){
                resolve("Hello")
            },3000)
            */
        })

        /*
        myPromPrac.then(function(value){
            document.write(value)
        })
        document.write("World")
        */
        
        myPromPrac
        .then(value=>{
            document.getElementById("demo").innerHTML="resolved with "+value
        })
        .catch(err=>{
            document.getElementById("demo").innerHTML="rejected with "+err
        })
    </script>
</body>
</html>